warehouse:        
  target: local
  outputs:
    local:
      type: spark
      method: session
      schema: default     
      host: NA            
      threads: 1            
      server_side_parameters:
        "spark.master": "local[{{ env_var('SPARK_LOCAL_CORES') }}]"
        "spark.driver.memory": "{{ env_var('SPARK_DRIVER_MEMORY') }}"
        "spark.driver.memoryOverhead": "{{ env_var('SPARK_DRIVER_MEMORY_OVERHEAD') }}"
        "spark.sql.catalogImplementation": "hive"
        "spark.sql.warehouse.dir": "{{ env_var('SPARK_WAREHOUSE_DIR') }}"
        "spark.hadoop.hive.metastore.warehouse.dir": "{{ env_var('SPARK_WAREHOUSE_DIR') }}"
        "spark.driver.extraJavaOptions": "-Dderby.system.home={{ env_var('DERBY_SYSTEM_HOME') }}"
        "spark.local.dir": "{{ env_var('SPARK_LOCAL_DIR') }}"
        "spark.sql.shuffle.partitions": "{{ env_var('SPARK_SHUFFLE_PARTITIONS') }}"
        "spark.sql.adaptive.enabled": "true"
        "spark.sql.adaptive.coalescePartitions.enabled": "true"
        "spark.sql.adaptive.skewJoin.enabled": "true"
        "spark.sql.adaptive.advisoryPartitionSizeInBytes": "128MB"
        "spark.sql.autoBroadcastJoinThreshold": "256MB"
